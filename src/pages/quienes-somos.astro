---
import MainLayout from "@/layouts/MainLayout.astro";
import MainSection from "@components/ui/blocks/MainSection.astro";
import LeftSection from "@components/ui/blocks/LeftSection.astro";
import RightSection from "@components/ui/blocks/RightSection.astro";
import FeaturesStats from "@components/sections/features/FeaturesStats.astro";

/* Ajusta la ruta: ahora en blocks */
import TimelineSection from "@components/ui/blocks/TimelineSection.astro";
import TeamGrid from "@components/ui/blocks/TeamGrid.astro";

/* Importa los datos */
import { timelineItems } from "@data/timeline";
import { teamMembers } from "@data/team";



// Import necessary images
import blueprints from "@images/blueprints-image.webp";
import personWorking from "@images/person-working.webp";
import beforeAfter from "@images/before-after.webp";
import constructionWorkers from "@images/construction-workers.webp";
import aerialView from "@images/aerial-view.webp";
import usingTools from "@images/using-tools.webp";
import progressBuilding from "@images/progress-building.webp";
import underConstruction from "@images/under-construction.webp";
import { SITE } from "@data/constants";

interface Article {
  isRightSection: boolean;
  title: string;
  subTitle: string;
  btnExists?: boolean;
  btnTitle?: string;
  btnURL?: string;
  single?: boolean;
  img?: any;
  imgAlt?: string;
  imgOne?: any;
  imgOneAlt?: string;
  imgTwo?: any;
  imgTwoAlt?: string;
}

/* ——— Contenido institucional ——— */
const articles: Article[] = [
/* 1) Historia */
  {
    isRightSection: true,
    title: "Nuestra Historia",
    subTitle:
      "Desde 1972 acompañamos a la comunidad de Peñalolén. Nacimos como Escuela Básica D-169, incorporamos la Educación Técnico-Profesional en 1994 y, desde 2018, somos Liceo Bicentenario de Excelencia TP. Avanzamos con identidad, mejora continua e innovación pedagógica.",
    single: false,
    imgOne: blueprints,
    imgOneAlt: "Primeros años del establecimiento.",
    imgTwo: personWorking,
    imgTwoAlt: "Comunidad educativa hoy.",
    btnExists: true,
    btnTitle: "Nuestros Hitos",
    btnURL: "#historia",
  },

  /* 2) Misión */
  {
    isRightSection: false,
    title: "Misión",
    subTitle:
      "Formar personas integrales desde educación inicial hasta la educación técnico profesional de excelencia, fortaleciendo competencias para sus proyectos de vida, con énfasis en ciudadanía y respeto por el medio ambiente.",
    img: beforeAfter,
    imgAlt: "Aprendizajes significativos en aula.",
    btnExists: false,
    btnTitle: "Leer más",
    btnURL: "#",
  },

   /* 3) Visión */
  {
    isRightSection: true,
    title: "Visión",
    subTitle:
      "Consolidarnos como una entidad educativa de excelencia, inclusiva y diversa, formando estudiantes felices, con sólidos principios éticos y valóricos, capaces de desarrollarse y aportar responsablemente a su entorno.",
    single: false,
    imgOne: constructionWorkers,
    imgOneAlt: "Trabajo colaborativo.",
    imgTwo: aerialView,
    imgTwoAlt: "Entorno del liceo en Peñalolén.",
  },

  /* 4) Sellos Educativos */
  {
    isRightSection: false,
    title: "Nuestros Sellos Educativos",
    subTitle:
      "Nuestros sellos reflejan los pilares que guían nuestro proyecto formativo y fortalecen la identidad de Liceo Bicentenario. Promovemos una Comunidad Lectora; el desarrollo de Habilidades para la Vida (trabajo en equipo, comunicación y empleabilidad); la Formación Ciudadana y el respeto a los Derechos Humanos; junto con una profunda Conciencia Medioambiental expresada en prácticas ecológicas cotidianas.",
    img: usingTools,
    imgAlt:
      "Sellos institucionales en acción.",
  },
  /* 5) Valores Institucionales */
  {
    isRightSection: true,
    title: "Valores y Principios",
    subTitle:
      "Promovemos autonomía, autorregulación y trabajo en equipo, junto con solidaridad, respeto, tolerancia, servicio y valoración de la diversidad. Estos principios orientan la convivencia y el quehacer pedagógico.",
    single: false,
    imgOne: progressBuilding,
    imgOneAlt: "Convivencia y participación.",
    imgTwo: underConstruction,
    imgTwoAlt: "Vida escolar y comunidad.",
    btnExists: true,
    btnTitle: "Ver Reglamento Interno",
    btnURL: "#",
  },

 /* 6) Compromiso Bicentenario */
  {
    isRightSection: false,
    title: "Compromiso Bicentenario",
    subTitle:
      "Como Liceo Bicentenario, trabajamos con altas expectativas, metas claras y acompañamiento constante. Fortalecemos la Educación Media TP mediante articulación, rigurosidad y seguimiento de resultados para trayectorias educativas exitosas.",
    img: beforeAfter, // TODO: premiaciones/logros TP
    imgAlt: "Excelencia y mejora continua.",
    btnExists: true,
    btnTitle: "Explora el Proyecto Educativo",
    btnURL: "#"
  }
];

const pageTitle: string = `Quienes Somos | ${SITE.title}`;
const metaDescription =
  "Conoce la historia, misión, visión y valores del Liceo Bicentenario Centro Educacional Valle Hermoso de Peñalolén. Excelencia académica, innovación y compromiso con la comunidad educativa.";
const ogTitle = "Quiénes Somos | Liceo Bicentenario CE Valle Hermoso";
---

<MainLayout
  title={pageTitle}
  customDescription={metaDescription}
  customOgTitle={ogTitle}
  structuredData={{
    "@context": "https://schema.org",
    "@type": "WebPage",
    "@id": "https://www.liceovallehermoso.cl/quienes-somos",
    url: "https://www.liceovallehermoso.cl/quienes-somos",
    name: "Quiénes Somos | Liceo Bicentenario CE Valle Hermoso",
    description:
      "Conoce la historia, misión, visión y valores del Liceo Bicentenario Centro Educacional Valle Hermoso de Peñalolén.",
    isPartOf: {
      "@type": "WebSite",
      url: "https://www.liceovallehermoso.cl",
      name: "Liceo Bicentenario Centro Educacional Valle Hermoso",
      description:
        "Portal informativo oficial del Liceo Bicentenario CE Valle Hermoso, con noticias, proyectos y recursos para la comunidad educativa.",
    },
    inLanguage: "es-CL",
  }}
>
  {
    /* MainSection is the introductory section of the page, it also contains a CTA button */
  }
  <MainSection
    title="Somos Comunidad, Excelencia y Futuro"
    subTitle="Formamos estudiantes íntegros, fortalecemos el vínculo con las familias y promovemos la innovación educativa sin perder nuestras buenas prácticas tradicionales."
    btnExists={true}
    btnTitle="Explora el Proyecto Acádemico"
    btnURL="/proyecto-academico"
  />
  {
    /* RightSection y LeftSection contienen detalles sobre varios servicios junto con imágenes pertinentes.
  Se alternan para variar el diseño.
  La propiedad 'btnExists' se utiliza para alternar la visualización de un botón en estas secciones.
  Cuando btnExists={true}, se muestra un botón.
  Esto se puede utilizar para vincular a información más detallada o recursos relacionados.
  RightSection también puede representar condicionalmente una o dos imágenes según la propiedad "única".
  Si "único" es verdadero, muestra una imagen; de lo contrario, muestra dos.
  */
  }
{/* Bloques institucionales */}
  {
    articles.map((article) => {
      return article.isRightSection ? (
        <RightSection
          title={article.title}
          subTitle={article.subTitle}
          single={article.single}
          imgOne={article.imgOne}
          imgOneAlt={article.imgOneAlt}
          imgTwo={article.imgTwo}
          imgTwoAlt={article.imgTwoAlt}
          btnExists={article.btnExists}
          btnTitle={article.btnTitle}
          btnURL={article.btnURL}
        />
      ) : (
        <LeftSection
          title={article.title}
          subTitle={article.subTitle}
          img={article.img}
          imgAlt={article.imgAlt}
          btnExists={article.btnExists}
          btnTitle={article.btnTitle}
          btnURL={article.btnURL}
        />      
      );
    })
  }

  {/* LÍNEA DE TIEMPO – Historia */}
  <TimelineSection
    id="historia"
    title="Nuestros Hitos"
    subTitle="Desde 1972, creciendo con Peñalolén: identidad, trabajo comunitario y mejora continua."
    items={timelineItems}
    initialVisible={5} 
    moreLabel="Ver Más Hitos"   
    lessLabel="Ver Menos"
    ctaHref="/historia"
  />

  {/* EQUIPO DIRECTIVO */}
  <TeamGrid
    title="Equipo Directivo"
    subTitle="Liderazgo pedagógico y gestión al servicio de la comunidad educativa."
    members={teamMembers}
  />

  {/* Métricas – edita con datos reales */}
  <FeaturesStats
    title="Nuestra comunidad en cifras"
    subTitle="Resultados que importan: aprendizaje, participación y mejora continua."
    mainStatTitle="+1.000"
    mainStatSubTitle="estudiantes y familias vinculadas a nuestra comunidad"
    stats={[
      {
        stat: "95%",
        description: "asistencia promedio anual (meta institucional)",
      },
      {
        stat: "30+",
        description: "actividades formativas y extracurriculares por año",
      },
      {
        stat: "60+",
        description: "docentes y asistentes comprometidos con la excelencia",
      },
    ]}
  />
</MainLayout>
